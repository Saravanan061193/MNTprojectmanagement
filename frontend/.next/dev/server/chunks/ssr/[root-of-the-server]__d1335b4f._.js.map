{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SARAVANAN/OneDrive/Desktop/Client%20Data%20Management%20Software%20MNT/frontend/src/lib/api.ts"],"sourcesContent":["import axios, { InternalAxiosRequestConfig } from 'axios';\r\nimport { getCookie } from 'cookies-next';\r\n\r\nconst api = axios.create({\r\n    baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000',\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\nconsole.log('API Base URL:', process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000');\r\n\r\napi.interceptors.request.use((config: InternalAxiosRequestConfig) => {\r\n    const token = getCookie('token');\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACrB,SAAS,6DAAmC;IAC5C,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,QAAQ,GAAG,CAAC,iBAAiB,6DAAmC;AAEhE,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1B,MAAM,QAAQ,IAAA,4JAAS,EAAC;IACxB,IAAI,OAAO;QACP,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACpD;IACA,OAAO;AACX;uCAEe"}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SARAVANAN/OneDrive/Desktop/Client%20Data%20Management%20Software%20MNT/frontend/src/components/auth/LoginForm.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { useState } from \"react\";\r\nimport { Lock, Mail, ArrowRight } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport api from \"@/lib/api\";\r\n\r\nexport default function LoginForm() {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const { login } = useAuth();\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n        setError(\"\");\r\n\r\n        try {\r\n            const { data } = await api.post('/api/auth/login', { email, password });\r\n            login(data.token, data.user);\r\n        } catch (err: any) {\r\n            console.error(\"Login Error:\", err);\r\n            let errorMessage = \"Login failed\";\r\n            if (err.response) {\r\n                // Server responded with a status code other than 2xx\r\n                errorMessage = err.response.data?.msg || `Server Error: ${err.response.status}`;\r\n            } else if (err.request) {\r\n                // Request was made but no response received\r\n                errorMessage = \"Network Error: If you are on Vercel, the backend is not connected. Please use the Localhost version.\";\r\n            } else {\r\n                // Something else happened\r\n                errorMessage = err.message;\r\n            }\r\n            setError(errorMessage);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5 }}\r\n            className=\"w-full max-w-md p-8 rounded-2xl bg-white/10 border border-white/20 backdrop-blur-xl shadow-2xl\"\r\n        >\r\n            <div className=\"text-center mb-8\">\r\n                <h2 className=\"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600\">\r\n                    Magizh Vault\r\n                </h2>\r\n                <p className=\"text-gray-400 mt-2 text-sm\">Secure Asset Management</p>\r\n            </div>\r\n\r\n            {error && (\r\n                <div className=\"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-red-500 text-sm text-center\">\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                <div className=\"space-y-2\">\r\n                    <label className=\"text-sm font-medium text-gray-300 ml-1\">Email</label>\r\n                    <div className=\"relative group\">\r\n                        <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400 group-focus-within:text-blue-400 transition-colors\">\r\n                            <Mail size={18} />\r\n                        </div>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            className=\"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 text-white placeholder-gray-500 transition-all\"\r\n                            placeholder=\"admin@magizh.com\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <label className=\"text-sm font-medium text-gray-300 ml-1\">Password</label>\r\n                    <div className=\"relative group\">\r\n                        <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400 group-focus-within:text-purple-400 transition-colors\">\r\n                            <Lock size={18} />\r\n                        </div>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className=\"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 text-white placeholder-gray-500 transition-all\"\r\n                            placeholder=\"••••••••\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={isLoading}\r\n                    className=\"w-full py-3.5 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-semibold rounded-xl shadow-lg hover:shadow-blue-500/25 focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 group\"\r\n                >\r\n                    {isLoading ? (\r\n                        <span className=\"animate-pulse\">Authenticating...</span>\r\n                    ) : (\r\n                        <>\r\n                            Sign In <ArrowRight size={18} className=\"group-hover:translate-x-1 transition-transform\" />\r\n                        </>\r\n                    )}\r\n                </button>\r\n            </form>\r\n\r\n            <p className=\"mt-6 text-center text-xs text-gray-500\">\r\n                Protected by Magizh NexGen Security • <Link href=\"#\" className=\"hover:text-blue-400 transition-colors\">Help</Link>\r\n            </p>\r\n        </motion.div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACpB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,yIAAO;IACzB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,aAAa;QACb,SAAS;QAET,IAAI;YACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,4HAAG,CAAC,IAAI,CAAC,mBAAmB;gBAAE;gBAAO;YAAS;YACrE,MAAM,KAAK,KAAK,EAAE,KAAK,IAAI;QAC/B,EAAE,OAAO,KAAU;YACf,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,IAAI,eAAe;YACnB,IAAI,IAAI,QAAQ,EAAE;gBACd,qDAAqD;gBACrD,eAAe,IAAI,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,cAAc,EAAE,IAAI,QAAQ,CAAC,MAAM,EAAE;YACnF,OAAO,IAAI,IAAI,OAAO,EAAE;gBACpB,4CAA4C;gBAC5C,eAAe;YACnB,OAAO;gBACH,0BAA0B;gBAC1B,eAAe,IAAI,OAAO;YAC9B;YACA,SAAS;QACb,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,qBACI,8OAAC,oMAAM,CAAC,GAAG;QACP,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;QAAI;QAC5B,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAgG;;;;;;kCAG9G,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;YAG7C,uBACG,8OAAC;gBAAI,WAAU;0BACV;;;;;;0BAIT,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACpC,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAM,WAAU;0CAAyC;;;;;;0CAC1D,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC,0MAAI;4CAAC,MAAM;;;;;;;;;;;kDAEhB,8OAAC;wCACG,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCACxC,WAAU;wCACV,aAAY;wCACZ,QAAQ;;;;;;;;;;;;;;;;;;kCAKpB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAM,WAAU;0CAAyC;;;;;;0CAC1D,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC,0MAAI;4CAAC,MAAM;;;;;;;;;;;kDAEhB,8OAAC;wCACG,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,WAAU;wCACV,aAAY;wCACZ,QAAQ;;;;;;;;;;;;;;;;;;kCAKpB,8OAAC;wBACG,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,0BACG,8OAAC;4BAAK,WAAU;sCAAgB;;;;;iDAEhC;;gCAAE;8CACU,8OAAC,gOAAU;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;;;;;;;;;0BAMxD,8OAAC;gBAAE,WAAU;;oBAAyC;kCACZ,8OAAC,uKAAI;wBAAC,MAAK;wBAAI,WAAU;kCAAwC;;;;;;;;;;;;;;;;;;AAIvH"}}]
}